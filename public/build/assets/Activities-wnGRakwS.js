import{j as e,r as d,y as m}from"./app-CUL1P5P5.js";import{F as u,r as p,a as x,p as h,D as f,P as b,T as l,V as c,S as g}from"./Rubik-Regular-BheJTd2V.js";import{F as y}from"./file-down-CmwKO8x6.js";import{A as j,a as A}from"./Autocomplete-ChXO4pcO.js";import{P as w}from"./PrimaryButton-DJ47VaBN.js";import{A as F,I as S}from"./InsideLayout-CLC-Awqc.js";import{i as v}from"./functions-DlZ9es6u.js";import{N as D}from"./notebook-CD4U8xwU.js";import"./createLucideIcon-CiMzjxdh.js";import"./loader-circle-BkX9zr-L.js";import"./settings-CPaF2RYP.js";u.register({family:"rubik",fonts:[{src:p,fontWeight:"normal"},{src:x,fontWeight:"bold"}]});const s=g.create({page:{flexDirection:"rtl",fontFamily:"rubik",padding:30,fontSize:13},title:{fontSize:22,fontWeight:"bold",marginBottom:36,textAlign:"center"},container:{marginBottom:12,textAlign:"right"},date:{fontSize:10,color:"gray"},description:{fontSize:13}}),N=({activities:i})=>e.jsx(f,{children:e.jsxs(b,{size:"A4",style:s.page,children:[e.jsx(l,{style:s.title,children:"سجل الأنشطة"}),e.jsx(c,{children:i.map(t=>{const o=new Date(t.created_at),n=o.toLocaleString("ar-MA",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),r=o.toLocaleString("ar-MA",{hour:"2-digit",minute:"2-digit",hour12:!1});return e.jsxs(c,{style:s.container,children:[e.jsxs(l,{style:s.date,children:[n," | ",r]}),e.jsx(l,{style:s.description,children:t.description})]},t.id)})})]})});function k({activities:i,currentMonth:t}){const o=async()=>{const r=await h(e.jsx(N,{activities:i,currentMonth:t})).toBlob(),a=URL.createObjectURL(r);window.open(a,"_blank")};return e.jsxs("button",{onClick:o,className:"relative top-1 rounded-full border border-black py-1 pl-4 pr-1 transition-colors duration-500 hover:bg-black hover:text-white",children:[e.jsx(y,{className:"ml-2 mr-1 inline"}),"فتح PDF"]})}function P(){const i=new URLSearchParams(window.location.search),[t,o]=d.useState({client_id:i.get("client_id")||""}),n=r=>{r.preventDefault(),m.get(route("settings.activities"),{...t})};return e.jsx("div",{className:"mb-5 py-3",children:e.jsxs("form",{onSubmit:n,method:"get",className:"flex items-end gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(j,{placeholder:"إختر زبونا",dataFunction:async r=>A("clients",r),defaultValue:i.get("client_id"),choiceHandler:r=>o(a=>({...a,client_id:r})),listItemAtributeName:"full_name",id:"contract-filter-form",label:"الزبون"})}),e.jsx(w,{type:"submit",className:"w-24",children:"بحث"})]})})}function H({activities:i}){return e.jsx(F,{children:e.jsxs(S,{headerLink:[{label:"عودة للملف الشخصي",url:route("profile.edit"),icon:D}],headerTitle:"سجل الأنشطة",children:[e.jsx(k,{activities:i}),e.jsxs("div",{children:[e.jsx(P,{}),i.map(t=>e.jsxs("div",{className:"mb-3 rounded-xl border border-gray-300 px-2 py-2",children:[e.jsx("p",{className:"text-xs text-gray-600",children:v(t.created_at)}),e.jsx("p",{children:t.description})]},t.id))]})]})})}export{H as default};
