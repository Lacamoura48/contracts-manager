import{j as e,W as f}from"./app-B1YFT08D.js";import{C as d}from"./CustomInput-BjZlmSOe.js";import{c as r,A as x}from"./AuthenticatedLayout-BCnYaVJT.js";import{I as g}from"./InsideLayout-BQrivFCC.js";import{a as _}from"./functions-B65fYzAW.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=r("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=r("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function c(a){return e.jsxs("div",{className:"w-full",children:[e.jsx("input",{className:"hidden",type:"file",accept:"image/png, image/jpg, image/jpeg",...a}),e.jsx("label",{className:`group flex aspect-square max-h-32 w-full cursor-pointer ${a.imageSelected||a.defaultImage?"":"flex-col items-center justify-center"} gap-2 rounded-2xl border-4 border-[rgb(200,200,200)] text-gray-600 md:max-h-44`,htmlFor:a.id,children:a.imageSelected||a.defaultImage?e.jsx("div",{className:"mx-auto",children:e.jsx("img",{className:"h-full w-full object-contain",src:a.imageSelected?URL.createObjectURL(a.imageSelected):a.defaultImage,alt:"image selected"})}):e.jsxs(e.Fragment,{children:[e.jsx(b,{size:60,color:"rgb(200,200,200)"}),e.jsx("span",{children:a.label})]})})]})}function j(a){return e.jsxs("div",{className:`relative ${a.width??"w-full"}`,children:[e.jsx("label",{className:"mb-1 block text-black",htmlFor:a.id,children:a.label}),e.jsx("textarea",{rows:3,...a,className:`w-full border-none px-2 py-2 placeholder:text-gray-400 focus:ring-black bg-${a.bg??"gray-100"} placeholder:text-placeholder rounded-lg`})]})}function w({children:a,loading:l}){return e.jsx("button",{disabled:l,className:`${l&&"opacity-40"} text-bold block w-full rounded-lg bg-black px-5 py-3 text-white`,children:l?e.jsx("span",{className:"mx-auto block w-fit animate-spin",children:e.jsx(p,{})}):a})}function V(a){const l=a.client;console.log(a.errors);const m=l?{full_name:l.full_name,phone:l.phone,id_code:l.id_code,address:l.address,wife_name:l.wife_name,wife_phone:l.wife_phone,_method:"PATCH"}:{full_name:"",phone:"",id_code:"",address:"",wife_name:"",wife_phone:""},{data:i,setData:s,post:o,patch:k,processing:h,errors:y,reset:C}=f({...m,id_photo_front:null,id_photo_back:null}),n=t=>{s(t.target.name,t.target.type==="checkbox"?t.target.checked:t.target.value)},u=t=>{t.preventDefault(),l?o(route("clients.update",l.id)):o(route("clients.store"),{forceFormData:!0})};return e.jsx(x,{children:e.jsx(g,{headerTitle:"إضافة زبون جديد",children:e.jsxs("form",{onSubmit:u,className:"max-w-2xl py-8",children:[e.jsx("div",{className:"mb-4 flex gap-3",children:e.jsx(d,{onChange:n,defaultValue:i.full_name,label:"الاسم الكامل",name:"full_name",id:"clients-full_name"})}),e.jsxs("div",{className:"mb-8 flex gap-3",children:[e.jsx(d,{label:"رقم الهوية",name:"id_code",defaultValue:i.id_code,id:"clients-id_code",value:i.id_code,onChange:t=>s("id_code",_(t.target.value))}),e.jsx(d,{label:"رقم الهاتف",name:"phone",defaultValue:i.phone,onChange:n,id:"clients-phone"})]}),e.jsxs("div",{className:"mb-4 flex gap-3",children:[e.jsx(c,{id:"clients-id_photo_front",name:"id_photo_front",label:"صورة الهوية (وجه)",imageSelected:i.id_photo_front,defaultImage:l==null?void 0:l.id_photo_front,onChange:t=>s("id_photo_front",t.target.files[0])}),e.jsx(c,{id:"clients-id_photo_back",name:"id_photo_back",label:"صورة الهوية (ظهر)",imageSelected:i.id_photo_back,defaultImage:l==null?void 0:l.id_photo_back,onChange:t=>s("id_photo_back",t.target.files[0])})]}),e.jsx("div",{className:"mb-4",children:e.jsx(j,{id:"clients-address",name:"address",onChange:n,defaultValue:i.address,label:"العنوان"})}),e.jsxs("div",{className:"mb-8 flex gap-3",children:[e.jsx(d,{label:"اسم الزوجة",name:"wife_name",onChange:n,defaultValue:i.wife_name,id:"clients-wife_name"}),e.jsx(d,{label:"رقم هاتف الزوجة",name:"wife_phone",id:"clients-wife_phone",defaultValue:i.wife_phone,onChange:n})]}),e.jsx("div",{children:e.jsx(w,{loading:h,children:l?"تحديث":"إرسال"})})]})})})}export{V as default};
