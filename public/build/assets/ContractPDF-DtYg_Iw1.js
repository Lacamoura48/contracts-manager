import{c}from"./createLucideIcon-Daxuz9wX.js";import{j as s}from"./app-BW51sJCY.js";import{f as m,n as j}from"./functions-DuHHseie.js";import{F as p,r as b,a as f,p as C,D as w,P as x,V as i,T as l,I as n,S as M}from"./Rubik-Regular-r9cpkZXg.js";import{S}from"./settings-BvninLX3.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=c("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=c("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);p.register({family:"rubik",fonts:[{src:b,fontWeight:"normal"},{src:f,fontWeight:"bold"}]});const e=M.create({page:{paddingVertical:12,paddingHorizontal:12,flexDirection:"rtl",textAlign:"right",fontFamily:"rubik",fontSize:9,lineHeight:1.5},topLeft:{position:"absolute",top:70,left:30},topRight:{position:"absolute",top:70,right:30},signatureCard:{border:1,borderColor:"#aaa",borderRadius:6,padding:5,flex:1,width:120,maxHeight:80},infoCardTop:{border:1,borderColor:"#aaa",borderRadius:6,padding:10,flex:1},signatureImage:{width:"100%",height:"100%",objectFit:"contain",marginHorizontal:"auto"},textMd:{fontSize:12},bigTitle:{fontWeight:"bold",fontSize:28,textAlign:"center",marginBottom:12},itemsCenter:{alignItems:"center",justifyContent:"flex-end"},bold:{fontWeight:"bold"},emptyTitle:{fontSize:22,color:"rgb(180,180,230)"},intro:{fontWeight:"bold",fontSize:12,textDecoration:"underline",marginBottom:6},textCenter:{textAlign:"center"},smallMb:{marginBottom:12},esmallMb:{marginBottom:6},eesmallMb:{marginBottom:3},flexSmallGap:{display:"flex",flexDirection:"row",gap:5},flexBetween:{display:"flex",flexDirection:"row",justifyContent:"space-between"},textLg:{fontSize:16,marginTop:14,marginBottom:6},padwhiteBg:{borderRadius:6,padding:3,backgroundColor:"white"},emptyCard:{height:120,alignItems:"center",justifyContent:"center"},squareCard:{backgroundColor:"rgb(220,220,240)",borderRadius:8,flex:1,padding:10},squareCardnoflex:{backgroundColor:"rgb(220,220,240)",borderRadius:8,padding:10},bondsGrid:{flexDirection:"row",flexWrap:"wrap",gap:5},bondCard:{width:280,backgroundColor:"rgb(220,220,240)",borderRadius:8,padding:10},smallText:{fontSize:8,gap:8},fixedWidth:{width:60},tamhimText:{width:350,marginHorizontal:"auto",textAlign:"center"},smallLineHeight:{lineHeight:1.1},title:{fontWeight:"bold",textAlign:"center",marginBottom:14,fontSize:18},smallInfo:{fontWeight:"light",fontSize:11,textAlign:"center"},mb:{marginBottom:14},maxh:{height:200,width:"100%"},bondProof:{width:"100%",height:"100%",objectFit:"contain"}}),z=["الأولى","الثانية","الثالثة","الرابعة","الخامسة","السادسة","السابعة","الثامنة","التاسعة","العاشرة","الحادية عشرة","الثانية عشرة"],k=({contract:t,terms:o,phone:h})=>{var a,g;return s.jsxs(w,{children:[s.jsxs(x,{size:"A4",style:e.page,children:[s.jsxs(i,{style:[e.topLeft,e.infoCardTop,e.flexSmallGap,e.itemsCenter],children:[s.jsx(l,{children:m(new Date(t.created_at))}),s.jsx(l,{style:e.bold,children:": انه في تاريخ"})]}),s.jsxs(i,{style:[e.topRight,e.infoCardTop,e.flexSmallGap,e.itemsCenter],children:[s.jsx(l,{children:t.code}),s.jsx(l,{style:e.bold,children:": الرقم التسلسلي للعقد "})]}),s.jsx(l,{style:e.bigTitle,children:t.type}),s.jsx(l,{style:[e.intro,e.textCenter],children:"مقدمة"}),s.jsx(l,{style:[e.textCenter,e.smallMb],children:"وبعون من الله تعالى تم الاتفاق بين كل من"}),s.jsxs(i,{style:[e.flexSmallGap,e.esmallMb],children:[s.jsxs(i,{style:e.squareCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الثاني"}),s.jsxs(i,{style:[e.flexSmallGap,e.itemsCenter,e.esmallMb],children:[s.jsx(l,{style:e.padwhiteBg,children:t.client.full_name}),s.jsx(l,{style:e.fixedWidth,children:"الاسم الكامل"})]}),s.jsxs(i,{style:[e.flexSmallGap,e.itemsCenter,e.esmallMb],children:[s.jsx(l,{style:e.padwhiteBg,children:h}),s.jsx(l,{style:[e.esmallMb,e.fixedWidth],children:"الهاتف"})]}),s.jsxs(i,{style:[e.flexSmallGap,e.itemsCenter,e.esmallMb],children:[s.jsx(l,{style:e.padwhiteBg,children:t.client.id_code}),s.jsx(l,{style:[e.esmallMb,e.fixedWidth],children:"رقم الهوية"})]}),s.jsxs(i,{style:[e.flexSmallGap,e.itemsCenter,e.esmallMb],children:[s.jsx(l,{style:e.padwhiteBg,children:t.client.email}),s.jsx(l,{style:e.fixedWidth,children:"الايميل"})]})]}),s.jsxs(i,{style:e.squareCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الأول"}),s.jsx(l,{style:[e.esmallMb,e.textCenter],children:t.user.company}),s.jsxs(l,{style:[e.esmallMb,e.textCenter],children:["رخصة رقم ",t.user.code]}),s.jsxs(l,{style:[e.esmallMb,e.textCenter],children:["هاتف: ",t.user.phone]}),s.jsxs(l,{style:[e.esmallMb,e.textCenter],children:["العنوان: ",t.user.address]})]})]}),s.jsxs(i,{style:[e.squareCardnoflex,e.esmallMb],children:[s.jsx(l,{style:[e.intro,e.textCenter],children:"تمهيد"}),s.jsx(l,{style:e.tamhimText,children:"فإنه ولما كان الطرف الثاني يرغب في تصنيع و توريد الأعمال المذكورة في العقد و حيت أن الطرف الاول مختص في هذا النوع من الأعمال فقد اتفق الطرفان على ما يلي"})]}),s.jsxs(i,{style:e.squareCard,children:[s.jsx(l,{style:[e.intro,e.textLg],children:"البند الأول"}),s.jsx(l,{children:"تعتبر المقدمة وموضوع العقد جزء لا يتجزأ من هذا العقد"}),s.jsx(l,{style:[e.intro,e.textLg],children:"البند الثاني"}),s.jsx(l,{children:"يتعهد الطرف الاول بتوريد الأغراض حسب المتفق عليه في العقد"}),s.jsx(l,{style:[e.intro,e.textLg],children:"البند الثالث: مدة الإنجاز"}),s.jsxs(l,{children:["توعد الطرف الأول بإنجاز الأعمال وتسليمها خلال"," ",t.work_duration," ",+t.work_duration>10?"يوم عمل":"أيام عمل"," ","ابتداء من تاريخ أول دفعة الذي سيتم ذكره في البند الخامس"]}),s.jsx(l,{style:[e.intro,e.textLg],children:"البند الرابع: قيمة العقد"}),s.jsx(l,{children:"اتفق الطرفان على أن يقوم الطرف الاول بتصنيع وتوريد المذكورة في العقد حسب ما هو موضح تفصيلا في عرض السعر بمبلغ إجمالى وقدره"}),s.jsx(l,{style:[e.padwhiteBg,e.esmallMb,e.textMd],children:j(Math.round(parseFloat(t.bonds_sum_amount).toFixed(2)))}),s.jsx(l,{children:"على ان يلتزم الطرف الثاني بتواريخ الدفع المذكورة في العقد وفي حال تخلفه عن السداد في التواريخ المذكورة سلفا يحق للطرف الأول اتخاد كافة الإجراءات القانونية التي تضمن حقه"}),s.jsx(l,{style:[e.intro,e.textLg],children:"البند الخامس: الدفعات"}),s.jsxs(l,{children:["تم الاتفاق بين الطرفين أن تتم المحاسبة ودفع المبلغ على عدد"," ",t.bonds_count," ",+t.bonds_count>10?"دفعة":"دفعات"," حسب جدول التواريخ التالية ذكرها"]}),s.jsx(l,{children:" "})]}),s.jsxs(i,{style:e.bondsGrid,children:[s.jsxs(i,{style:e.signatureCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الثانى"}),t.signature&&s.jsx(n,{style:e.signatureImage,src:t.signature})]}),s.jsxs(i,{style:e.signatureCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الأول"}),t.user.signature&&s.jsx(n,{style:e.signatureImage,src:t.user.signature})]})]})]}),s.jsxs(x,{size:"A4",style:e.page,children:[s.jsx(i,{style:[e.bondsGrid,e.esmallMb,{flexDirection:"row-reverse"}],children:[...Array(12).keys()].map(r=>{const d=t.bonds[r];return d?s.jsxs(i,{style:e.bondCard,children:[s.jsxs(l,{style:[e.intro,{marginBottom:6}],children:["الدفعة ",z[r]]}),s.jsxs(i,{children:[s.jsxs(i,{style:[e.flexSmallGap,e.itemsCenter,e.eesmallMb],children:[s.jsx(l,{style:[e.padwhiteBg,{flex:1,fontSize:8}],children:j(parseFloat(d.amount))}),s.jsx(l,{style:{width:28},children:"قدرها "})]}),s.jsxs(i,{style:[e.flexSmallGap,e.itemsCenter,e.esmallMb],children:[s.jsx(l,{style:[e.padwhiteBg,{flex:1}],children:parseFloat(d.amount).toFixed(2)}),s.jsx(l,{children:"بالأرقام"})]}),s.jsxs(i,{style:[e.flexSmallGap,e.itemsCenter],children:[s.jsx(l,{style:[e.padwhiteBg,{flex:1}],children:m(new Date(d.payement_date))}),s.jsx(l,{style:{width:28},children:"بتاريخ"})]})]})]},r):s.jsx(i,{style:[e.bondCard,e.emptyCard],children:s.jsx(l,{style:e.emptyTitle,children:"فارغ"})},r)})}),s.jsxs(i,{style:e.bondsGrid,children:[s.jsxs(i,{style:e.signatureCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الثانى"}),t.signature&&s.jsx(n,{style:e.signatureImage,src:t.signature})]}),s.jsxs(i,{style:e.signatureCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الأول"}),t.user.signature&&s.jsx(n,{style:e.signatureImage,src:t.user.signature})]})]})]}),s.jsxs(x,{size:"A4",style:e.page,children:[s.jsxs(i,{style:e.squareCard,children:[s.jsx(l,{style:[e.intro,e.textLg],children:"البند السادس: المواصفات"}),s.jsx(l,{style:e.intro,children:"نوع الاسفنج"}),s.jsx(l,{style:e.smallMb,children:"اتفق الطرفان استخدام الاسفنج طبق للمواصفات التالية"}),s.jsxs(i,{style:[e.smallMb,{gap:6,flexDirection:"row-reverse"}],children:[s.jsxs(l,{style:e.padwhiteBg,children:[t.intensity," الكثافة"]}),s.jsxs(l,{style:e.padwhiteBg,children:[t.width," عرض"]}),s.jsxs(l,{style:e.padwhiteBg,children:[t.height," ارتفاع"]})]}),s.jsx(l,{style:e.intro,children:"نوع القماش والخياطة"}),s.jsx(l,{style:e.smallMb,children:"اتفق الطرفان استخدام القماش الذي تم اختیاره وتم ارسال الصور عبر منصة واتساب وتم الموافقة عليها"}),s.jsx(l,{style:e.intro,children:"شكل وتصميم الخشب"}),s.jsx(l,{style:e.smallMb,children:"اتفق الطرفان على التصميم حسب ما تم اخياره من النماذج المتوفرة بالمعرض والتي تم ارسال صورها عبر منصة واتساب وتم الموافقة عليها"}),t.contract_prefrences.map(r=>s.jsxs(i,{children:[s.jsx(l,{style:e.intro,children:r.title}),s.jsx(l,{style:e.smallMb,children:r.description})]},r.id)),((a=t.files)==null?void 0:a.length)>0&&s.jsxs(s.Fragment,{children:[s.jsx(l,{style:e.intro,children:"ملاحظات"}),s.jsx(i,{style:[e.padwhiteBg,e.smallMb],children:t.files.map((r,d)=>{if(r.as_note)return s.jsx(l,{children:r.title},d)})})]}),s.jsx(l,{style:e.intro,children:"تنویه"}),s.jsx(l,{style:{fontSize:10},children:"تعتبر المحادثات بين الطرفين عبر منصة واتساب والتي يوضح فيها الطرف الأول للطرف الثاني تفاصيل عن الاعمال المتفق عليها جزءا لا يتجزأ من العقد حيت انها توضح وتبين بوضوح ما تم ذكره بالعقد اما عن طريق فيديوهات او صور لما تم اختياره والموافقة عليه"})]}),s.jsxs(i,{style:e.bondsGrid,children:[s.jsxs(i,{style:e.signatureCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الثانى"}),t.signature&&s.jsx(n,{style:e.signatureImage,src:t.signature})]}),s.jsxs(i,{style:e.signatureCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الأول"}),t.user.signature&&s.jsx(n,{style:e.signatureImage,src:t.user.signature})]})]})]}),s.jsxs(x,{style:e.page,children:[s.jsxs(i,{style:[e.squareCard],children:[s.jsx(l,{style:[e.intro],children:"الشروط والاحكام"}),s.jsx(i,{children:o.map(r=>s.jsxs(i,{style:[e.esmallMb,{display:"flex",flexDirection:"row-reverse",gap:3}],children:[s.jsx(l,{style:{flexShrink:0},children:"•"}),s.jsx(l,{style:[e.smallText,e.smallLineHeight,{flexGrow:0,flex:1}],children:r.terms})]},r.id))}),s.jsx(l,{style:[e.intro,e.textLg],children:"البند السابع: الاقرارات"}),s.jsx(l,{children:"اقر الطرفان بانهما اطلعا ووافقا على بنود هذا العقد وحرر من نسختين بعد ان تم توقيعه من الطرفين"})]}),s.jsxs(i,{style:e.bondsGrid,children:[s.jsxs(i,{style:e.signatureCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الثانى"}),t.signature&&s.jsx(n,{style:e.signatureImage,src:t.signature})]}),s.jsxs(i,{style:e.signatureCard,children:[s.jsx(l,{style:[e.intro],children:"الطرف الأول"}),t.user.signature&&s.jsx(n,{style:e.signatureImage,src:t.user.signature})]})]})]}),((g=t.files)==null?void 0:g.length)>0&&s.jsxs(x,{size:"A4",style:e.page,children:[s.jsx(l,{style:e.title,children:"الملحقات"}),s.jsx(i,{style:[e.bondsGrid],children:t.files.map(r=>{if(!r.as_note)return s.jsxs(i,{style:e.bondCard,children:[s.jsx(i,{style:[e.mb,e.maxh],children:r.image?s.jsx(n,{style:e.bondProof,src:r.image}):s.jsx(l,{style:[e.smallInfo,e.padwhiteBg],children:"بدون صورة"})}),s.jsx(l,{style:e.smallInfo,children:r.title})]},r.title)})})]})]})},_=({contract:t,terms:o,contractPage:h})=>{const a=async()=>{const r=`+971${t.client.phone.split(" ")[0]}`,y=await C(s.jsx(k,{phone:r,terms:o,contract:t})).toBlob(),u=URL.createObjectURL(y);window.open(u,"_blank")};return h?s.jsxs("button",{onClick:a,className:"relative top-1 flex flex-col items-center rounded-full",children:[s.jsx(S,{size:35}),s.jsx("span",{className:"mt-1 rounded-full bg-black px-3 py-1 text-sm text-white",children:"معاينة العقد"})]}):s.jsxs("button",{onClick:a,className:"relative top-1 w-full max-w-xl rounded-xl bg-gray-200 py-3 pl-4 pr-1 transition-colors duration-500 hover:bg-black hover:text-white",children:[s.jsx(B,{className:"ml-2 mr-1 inline"}),"الإطلاع على العقد"]})};export{_ as C,F as M};
