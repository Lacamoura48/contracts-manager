import{r as o,j as t,y as n}from"./app-C91LIiKT.js";import{A as m,a as i}from"./Autocomplete-DYsJDQ-8.js";import{P as d}from"./PrimaryButton-Bq1Xa1rf.js";import{f as x}from"./functions-B65fYzAW.js";import{c as u,A as h}from"./AuthenticatedLayout-B1aTIU5d.js";import{I as p}from"./InsideLayout-Hg3iAup1.js";import{C as b}from"./circle-plus-C9caxQ4N.js";import"./loader-circle-DFu-tTvV.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=u("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function j(){const e=new URLSearchParams(window.location.search),[s,a]=o.useState({}),l=r=>{r.preventDefault(),n.get(route("contracts.index"),{...s})};return console.log(e.get("q")),t.jsx("div",{className:"mb-5 py-3",children:t.jsxs("form",{onSubmit:l,method:"get",className:"flex items-end gap-2",children:[t.jsx(m,{placeholder:"إختر زبونا",dataFunction:async r=>i("clients",r),defaultValue:e.get("q"),choiceHandler:r=>a(c=>({...c,q:r})),listItemAtributeName:"full_name",id:"contract-filter-form",label:"الزبون"}),t.jsx(d,{type:"submit",className:"w-24",children:"بحث"})]})})}const y=({bonds:e})=>{const s=a=>{switch(a){case"paid":return"bg-green-500";case"late":return"bg-red-500";default:return"bg-gray-300"}};return t.jsx("div",{className:"flex flex-wrap gap-1",children:e.map((a,l)=>t.jsx("div",{className:`h-4 w-4 rounded-full ${s(a.status)}`,title:`الدفعة ${l+1}: ${a.status}`},l))})};function g({contracts:e}){return console.log(e.data),t.jsxs("table",{className:"mt-12 w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"w-full border-b-2 border-b-black",children:[t.jsx("th",{scope:"col",className:"small:text-xs me-5 hidden pb-4 text-start text-base md:block",children:"الحالة"}),t.jsx("th",{scope:"col",className:"small:text-xs me-5 pb-4 text-start",children:"اسم الزبون"}),t.jsx("th",{scope:"col",className:"small:text-xs me-5 pb-4 text-start",children:"تاريخ الدفع التالي"}),t.jsx("th",{scope:"col",className:"small:text-xs me-5 pb-4 text-start",children:"الدفعات"})]})}),t.jsx("tbody",{children:e.data.map(s=>t.jsxs("tr",{children:[t.jsx("td",{className:"small:text-xs me-5 hidden border-b py-4 text-start md:block",children:t.jsx(f,{})}),t.jsx("td",{className:"small:text-xs me-5 border-b py-4 text-start",children:s.client.full_name}),t.jsx("td",{className:"small:text-xs me-5 border-b py-4 text-start",children:x(new Date(s.bonds[0].payement_date))}),t.jsx("td",{className:"small:text-xs me-5 w-28 border-b py-4 text-start md:w-44 lg:w-72",children:t.jsx(y,{bonds:s.bonds})})]},s.id))})]})}function P({contracts:e}){return t.jsx(h,{children:t.jsxs(p,{headerTitle:"العقود",headerLink:[{label:"إضافة عقد جديد",url:"/contracts/create",icon:b}],children:[t.jsx(j,{}),t.jsx(g,{contracts:e})]})})}export{P as default};
