import{j as e,W as x}from"./app-BgkO7Lrd.js";import{C as d}from"./CustomInput-DySyjxUL.js";import{c,A as p}from"./AuthenticatedLayout-DdWDjtOw.js";import{I as g}from"./InsideLayout-vXUkz-Ql.js";import{a as _}from"./functions-B65fYzAW.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=c("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=c("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function o(l){return e.jsxs("div",{className:"w-full",children:[e.jsx("input",{className:"hidden",type:"file",accept:"image/png, image/jpg, image/jpeg",...l}),e.jsx("label",{className:"group flex aspect-square max-h-32 w-full cursor-pointer flex-col items-center justify-center gap-2 rounded-2xl border-4 border-[rgb(200,200,200)] text-gray-600 md:max-h-44",htmlFor:l.id,children:l.imageSelected||l.defaultImage?e.jsx("div",{className:"h-full w-full",children:e.jsx("img",{className:"h-full w-full object-contain",src:l.defaultImage||URL.createObjectURL(l.imageSelected),alt:"image selected"})}):e.jsxs(e.Fragment,{children:[e.jsx(b,{size:60,color:"rgb(200,200,200)"}),e.jsx("span",{children:l.label})]})})]})}function w(l){return e.jsxs("div",{className:`relative ${l.width??"w-full"}`,children:[e.jsx("label",{className:"mb-1 block text-black",htmlFor:l.id,children:l.label}),e.jsx("textarea",{rows:3,...l,className:`w-full border-none px-2 py-2 placeholder:text-gray-400 focus:ring-black bg-${l.bg??"gray-100"} placeholder:text-placeholder rounded-lg`})]})}function k({children:l,loading:a}){return e.jsx("button",{disabled:a,className:`${a&&"opacity-40"} text-bold block w-full rounded-lg bg-black px-5 py-3 text-white`,children:a?e.jsx("span",{className:"mx-auto block w-fit animate-spin",children:e.jsx(j,{})}):l})}function L(l){const a=l.client,r=a?{full_name:a.full_name,phone:a.phone,id_code:a.id_code,address:a.address,wife_name:a.wife_name,wife_phone:a.wife_phone}:{full_name:"",phone:"",id_code:"",address:"",wife_name:"",wife_phone:""},{data:n,setData:s,post:m,patch:h,processing:u,errors:y,reset:N}=x({...r,id_photo_front:null,id_photo_back:null}),i=t=>{s(t.target.name,t.target.type==="checkbox"?t.target.checked:t.target.value)},f=t=>{t.preventDefault(),a?h(route("clients.update",a.id),{forceFormData:!0}):m(route("clients.store"),{forceFormData:!0})};return e.jsx(p,{children:e.jsx(g,{headerTitle:"إضافة زبون جديد",children:e.jsxs("form",{onSubmit:f,className:"max-w-2xl py-8",children:[e.jsx("div",{className:"mb-4 flex gap-3",children:e.jsx(d,{onChange:i,defaultValue:n.full_name,label:"الاسم الكامل",name:"full_name",id:"clients-full_name"})}),e.jsxs("div",{className:"mb-8 flex gap-3",children:[e.jsx(d,{label:"رقم الهوية",name:"id_code",defaultValue:n.id_code,id:"clients-id_code",value:n.id_code,onChange:t=>s("id_code",_(t.target.value))}),e.jsx(d,{label:"رقم الهاتف",name:"phone",defaultValue:n.phone,onChange:i,id:"clients-phone"})]}),e.jsxs("div",{className:"mb-4 flex gap-3",children:[e.jsx(o,{id:"clients-id_photo_front",name:"id_photo_front",label:"صورة الهوية (وجه)",imageSelected:n.id_photo_front,defaultImage:a==null?void 0:a.id_photo_front,onChange:t=>s("id_photo_front",t.target.files[0])}),e.jsx(o,{id:"clients-id_photo_back",name:"id_photo_back",label:"صورة الهوية (ظهر)",imageSelected:n.id_photo_back,defaultImage:a==null?void 0:a.id_photo_back,onChange:t=>s("id_photo_back",t.target.files[0])})]}),e.jsx("div",{className:"mb-4",children:e.jsx(w,{id:"clients-address",name:"address",onChange:i,defaultValue:n.address,label:"العنوان"})}),e.jsxs("div",{className:"mb-8 flex gap-3",children:[e.jsx(d,{label:"اسم الزوجة",name:"wife_name",onChange:i,defaultValue:n.wife_name,id:"clients-wife_name"}),e.jsx(d,{label:"رقم هاتف الزوجة",name:"wife_phone",id:"clients-wife_phone",defaultValue:n.wife_phone,onChange:i})]}),e.jsx("div",{children:e.jsx(k,{loading:u,children:"إرسال"})})]})})})}export{L as default};
