import{j as e,W as u}from"./app-C91LIiKT.js";import{C as i}from"./CustomInput-C7a1-clE.js";import{c as _,A as g}from"./AuthenticatedLayout-B1aTIU5d.js";import{S as x}from"./SubmitButton-Hz_r0fTc.js";import{I as p}from"./InsideLayout-Hg3iAup1.js";import{a as b}from"./functions-B65fYzAW.js";import{U as j}from"./undo-2-4sx61dnt.js";import"./loader-circle-DFu-tTvV.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=_("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);function c(a){return e.jsxs("div",{className:"w-full",children:[e.jsx("input",{className:"hidden",type:"file",accept:"image/png, image/jpg, image/jpeg",...a}),e.jsx("label",{className:`group flex aspect-square max-h-32 w-full cursor-pointer ${a.imageSelected||a.defaultImage?"":"flex-col items-center justify-center"} gap-2 rounded-2xl border-4 ${a.error?"border-red-100 text-red-600":"border-[rgb(200,200,200)] text-gray-600"} md:max-h-44`,htmlFor:a.id,children:a.imageSelected||a.defaultImage?e.jsx("div",{className:"mx-auto",children:e.jsx("img",{className:"h-full w-full object-contain",src:a.imageSelected?URL.createObjectURL(a.imageSelected):a.defaultImage,alt:"image selected"})}):e.jsxs(e.Fragment,{children:[e.jsx(w,{size:60,color:a.error?"red":"rgb(200,200,200)"}),e.jsx("span",{children:a.error||a.label})]})})]})}function k(a){return e.jsxs("div",{className:`relative ${a.width??"w-full"}`,children:[e.jsx("label",{className:"mb-1 block text-black",htmlFor:a.id,children:a.label}),e.jsx("textarea",{rows:3,...a,className:`w-full border-none px-2 py-2 placeholder:text-gray-400 focus:ring-black bg-${a.bg??"gray-100"} placeholder:text-placeholder rounded-lg`})]})}function U(a){const l=a.client;console.log(a.errors);const m=l?{full_name:l.full_name,phone:l.phone,phone2:l.phone2,id_code:l.id_code,address:l.address,wife_name:l.wife_name,wife_phone:l.wife_phone,_method:"PATCH"}:{full_name:"",phone:"",phone2:"",id_code:"",address:"",wife_name:"",wife_phone:""},{data:n,setData:r,post:s,processing:h,errors:o}=u({...m,id_photo_front:null,id_photo_back:null}),d=t=>{r(t.target.name,t.target.type==="checkbox"?t.target.checked:t.target.value)},f=t=>{t.preventDefault(),l?s(route("clients.update",l.id)):s(route("clients.store"),{forceFormData:!0})};return e.jsx(g,{children:e.jsx(p,{headerTitle:"إضافة زبون جديد",headerLink:[{label:"رجوع إلى قائمة زبناء",url:"/clients",icon:j}],children:e.jsxs("form",{onSubmit:f,className:"max-w-2xl py-8",children:[e.jsxs("div",{className:"mb-4 flex gap-3",children:[e.jsx(i,{onChange:d,defaultValue:n.full_name,label:"الاسم الكامل",name:"full_name",id:"clients-full_name",error:o.full_name}),e.jsx(i,{label:"رقم الهوية",name:"id_code",defaultValue:n.id_code,id:"clients-id_code",value:n.id_code,error:o.id_code,onChange:t=>r("id_code",b(t.target.value))})]}),e.jsxs("div",{className:"mb-8 flex gap-3",children:[e.jsx(i,{label:"رقم الهاتف",name:"phone",defaultValue:n.phone,onChange:d,error:o.phone,id:"clients-phone"}),e.jsx(i,{label:"رقم واتساب",name:"phone2",placeholder:"اختياري",defaultValue:n.phone2,error:o.phone2,onChange:d,id:"clients-phone2"})]}),e.jsxs("div",{className:"mb-4 flex gap-3",children:[e.jsx(c,{id:"clients-id_photo_front",name:"id_photo_front",label:"صورة الهوية (وجه)",imageSelected:n.id_photo_front,defaultImage:l==null?void 0:l.id_photo_front,error:o.id_photo_front,onChange:t=>r("id_photo_front",t.target.files[0])}),e.jsx(c,{id:"clients-id_photo_back",name:"id_photo_back",label:"صورة الهوية (ظهر)",imageSelected:n.id_photo_back,defaultImage:l==null?void 0:l.id_photo_back,error:o.id_photo_back,onChange:t=>r("id_photo_back",t.target.files[0])})]}),e.jsx("div",{className:"mb-4",children:e.jsx(k,{id:"clients-address",name:"address",onChange:d,defaultValue:n.address,label:"العنوان",placeholder:"اختياري"})}),e.jsxs("div",{className:"mb-8 flex gap-3",children:[e.jsx(i,{label:"اسم الزوجة",name:"wife_name",onChange:d,defaultValue:n.wife_name,id:"clients-wife_name",placeholder:"اختياري"}),e.jsx(i,{label:"رقم هاتف الزوجة",name:"wife_phone",id:"clients-wife_phone",defaultValue:n.wife_phone,onChange:d,placeholder:"اختياري"})]}),e.jsx("div",{children:e.jsx(x,{loading:h,children:l?"تحديث":"إرسال"})})]})})})}export{U as default};
